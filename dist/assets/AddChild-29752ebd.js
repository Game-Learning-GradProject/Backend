import{r as s,a,j as e,E as S,_ as f,G as w,b as y}from"./index-e1864906.js";import{S as A}from"./SimpleNav-2f232c7f.js";import{L as G}from"./FullLoading-f3564e03.js";import{F as x,I as F,S as I,M as o}from"./Select-e17bbf50.js";import{v as C}from"./v4-a960c1f4.js";import{u as L}from"./useDispatch-a9907bee.js";import"./createSvgIcon-ab29d6c3.js";import"./jsx-runtime_commonjs-proxy-bf607921.js";/* empty css                */import"./assertThisInitialized-4a893623.js";import"./useTheme-eaa82510.js";const j=({setuserName:r,setpassword:l,setsuccess:i,setChildId:d})=>{const n=L(),[t,m]=s.useState(""),[u,N]=s.useState(""),[h,p]=s.useState(!1);return a("div",{className:"create-child-form",children:[a("div",{className:"wrapper",children:[e("div",{className:"image",children:e("img",{src:"/assets/images/blankChild.svg",alt:""})}),a("div",{className:"heading",children:[e("span",{children:"Create your child an account"}),e("span",{children:"Please fill out the fields below."})]}),a("form",{onSubmit:c=>{c.preventDefault(),p(!0);const g=t+C().slice(0,4),b=C().slice(0,6);n(S({name:t,grade:u,username:g,password:b,age:10})).unwrap().then(v=>{p(!1),f.success("Account created successfully"),n(w(v.student)),d(v.student._id),r(g),l(b),i(!0)}).catch(v=>{p(!1),f.error("Something went wrong")})},children:[a("div",{className:"input",children:[e("label",{htmlFor:"",children:"Child name"}),e("input",{type:"text",name:"",id:"",required:!0,value:t,onChange:c=>m(c.target.value)})]}),e("div",{className:"input select",children:a(x,{fullWidth:!0,children:[e(F,{id:"demo-simple-select-label",children:"Grade"}),a(I,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,label:"Age",required:!0,onChange:c=>{N(c.target.value)},children:[e(o,{value:1,children:"Grade one"}),e(o,{value:2,children:"Grade two"}),e(o,{value:3,children:"Grade three"}),e(o,{value:4,children:"Grade four"}),e(o,{value:5,children:"Grade five"})]})]})}),e("button",{type:"submit",disabled:h,children:h?"Loading":"Create Account"})]})]}),h&&e(G,{})]})};const D=({userName:r,password:l,childId:i})=>{const d=y();return e("div",{className:"child-account-created",children:a("div",{className:"wrapper",children:[a("div",{className:"heading",children:[e("span",{children:"Account created!"}),e("span",{children:"Here are your child's credentials. Your child will need them in order to start playing Prodigy!"})]}),e("div",{className:"image",children:e("img",{src:"/assets/images/happyStarExtra.png",alt:""})}),a("form",{action:"",onSubmit:t=>{t.preventDefault(),d("/parent/my-children/"+i+"/alltasks/dashboard",{replace:!0})},children:[a("div",{className:"input",children:[e("label",{htmlFor:"",children:"Username"}),e("input",{type:"text",name:"",id:"",value:r,disabled:!0})]}),a("div",{className:"input",children:[e("label",{htmlFor:"",children:"Password"}),e("input",{type:"text",name:"",id:"",value:l,disabled:!0})]}),e("button",{type:"submit",children:"Continue"})]})]})})},J=()=>{const[r,l]=s.useState(""),[i,d]=s.useState(""),[n,t]=s.useState(""),[m,u]=s.useState(!1);return a("div",{className:"add-child",children:[e(A,{}),e("div",{className:"theContainer",children:m?e(D,{userName:r,childId:n,password:i}):e(j,{setsuccess:u,setuserName:l,setpassword:d,setChildId:t})})]})};export{J as default};
