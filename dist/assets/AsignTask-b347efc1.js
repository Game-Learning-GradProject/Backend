import{d as K,g as Y,e as D,O as fe,i as g,A as L,r as l,n as E,o as B,j as a,p as $,q as V,a as p,u as X,F as ie,b as ge,S as be,T as ve,_ as se}from"./index-e1864906.js";import{S as ye}from"./SimpleNav-2f232c7f.js";import{S as he}from"./SelectGrade-9f49404b.js";import{S as Ce,R as xe,a as ae,I as Se,b as Ie}from"./SelectSubject-e86a277d.js";import{B as le,L as k,i as oe,q as Ne,r as ne,s as Le,t as $e,F as ke,a as we}from"./Select-e17bbf50.js";import{c as ce,b as de,j as Ge}from"./createSvgIcon-ab29d6c3.js";import{C as Re,u as Te}from"./Checkbox-584ae3fb.js";import{T as W,F as re}from"./FormControlLabel-d36b6985.js";import{A as Ae}from"./api-client-0e00230a.js";import{L as pe}from"./FullLoading-f3564e03.js";import{u as Pe}from"./useDispatch-a9907bee.js";import"./jsx-runtime_commonjs-proxy-bf607921.js";import"./assertThisInitialized-4a893623.js";import"./useTheme-eaa82510.js";/* empty css                */function Oe(e){return Y("MuiListItem",e)}const Fe=K("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),O=Fe;function Be(e){return Y("MuiListItemButton",e)}const De=K("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),F=De,Me=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],_e=(e,s)=>{const{ownerState:o}=e;return[s.root,o.dense&&s.dense,o.alignItems==="flex-start"&&s.alignItemsFlexStart,o.divider&&s.divider,!o.disableGutters&&s.gutters]},Ee=e=>{const{alignItems:s,classes:o,dense:r,disabled:d,disableGutters:t,divider:i,selected:c}=e,n=V({root:["root",r&&"dense",!t&&"gutters",i&&"divider",d&&"disabled",s==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},Be,o);return g({},o,n)},Ve=D(le,{shouldForwardProp:e=>fe(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:_e})(({theme:e,ownerState:s})=>g({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${F.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:L(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${F.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:L(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${F.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:L(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:L(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${F.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${F.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},s.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},s.alignItems==="flex-start"&&{alignItems:"flex-start"},!s.disableGutters&&{paddingLeft:16,paddingRight:16},s.dense&&{paddingTop:4,paddingBottom:4})),je=l.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemButton"}),{alignItems:d="center",autoFocus:t=!1,component:i="div",children:c,dense:u=!1,disableGutters:n=!1,divider:m=!1,focusVisibleClassName:b,selected:v=!1,className:y}=r,f=B(r,Me),h=l.useContext(k),I=l.useMemo(()=>({dense:u||h.dense||!1,alignItems:d,disableGutters:n}),[d,h.dense,u,n]),S=l.useRef(null);ce(()=>{t&&S.current&&S.current.focus()},[t]);const A=g({},r,{alignItems:d,dense:I.dense,disableGutters:n,divider:m,selected:v}),w=Ee(A),N=de(S,o);return a(k.Provider,{value:I,children:a(Ve,g({ref:N,href:f.href||f.to,component:(f.href||f.to)&&i==="div"?"a":i,focusVisibleClassName:$(w.focusVisible,b),ownerState:A,className:$(w.root,y)},f,{classes:w,children:c}))})}),Ue=je;function He(e){return Y("MuiListItemSecondaryAction",e)}K("MuiListItemSecondaryAction",["root","disableGutters"]);const We=["className"],qe=e=>{const{disableGutters:s,classes:o}=e;return V({root:["root",s&&"disableGutters"]},He,o)},ze=D("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.disableGutters&&s.disableGutters]}})(({ownerState:e})=>g({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ue=l.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemSecondaryAction"}),{className:d}=r,t=B(r,We),i=l.useContext(k),c=g({},r,{disableGutters:i.disableGutters}),u=qe(c);return a(ze,g({className:$(u.root,d),ownerState:c,ref:o},t))});ue.muiName="ListItemSecondaryAction";const Qe=ue,Je=["className"],Ke=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Ye=(e,s)=>{const{ownerState:o}=e;return[s.root,o.dense&&s.dense,o.alignItems==="flex-start"&&s.alignItemsFlexStart,o.divider&&s.divider,!o.disableGutters&&s.gutters,!o.disablePadding&&s.padding,o.button&&s.button,o.hasSecondaryAction&&s.secondaryAction]},Xe=e=>{const{alignItems:s,button:o,classes:r,dense:d,disabled:t,disableGutters:i,disablePadding:c,divider:u,hasSecondaryAction:n,selected:m}=e;return V({root:["root",d&&"dense",!i&&"gutters",!c&&"padding",u&&"divider",t&&"disabled",o&&"button",s==="flex-start"&&"alignItemsFlexStart",n&&"secondaryAction",m&&"selected"],container:["container"]},Oe,r)},Ze=D("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:s})=>g({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!s.disablePadding&&g({paddingTop:8,paddingBottom:8},s.dense&&{paddingTop:4,paddingBottom:4},!s.disableGutters&&{paddingLeft:16,paddingRight:16},!!s.secondaryAction&&{paddingRight:48}),!!s.secondaryAction&&{[`& > .${F.root}`]:{paddingRight:48}},{[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${O.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:L(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:L(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},s.alignItems==="flex-start"&&{alignItems:"flex-start"},s.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},s.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:L(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:L(e.palette.primary.main,e.palette.action.selectedOpacity)}}},s.hasSecondaryAction&&{paddingRight:48})),et=D("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,s)=>s.container})({position:"relative"}),tt=l.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItem"}),{alignItems:d="center",autoFocus:t=!1,button:i=!1,children:c,className:u,component:n,components:m={},componentsProps:b={},ContainerComponent:v="li",ContainerProps:{className:y}={},dense:f=!1,disabled:h=!1,disableGutters:I=!1,disablePadding:S=!1,divider:A=!1,focusVisibleClassName:w,secondaryAction:N,selected:z=!1,slotProps:M={},slots:Q={}}=r,J=B(r.ContainerProps,Je),P=B(r,Ke),j=l.useContext(k),x=l.useMemo(()=>({dense:f||j.dense||!1,alignItems:d,disableGutters:I}),[d,j.dense,f,I]),G=l.useRef(null);ce(()=>{t&&G.current&&G.current.focus()},[t]);const C=l.Children.toArray(c),Z=C.length&&Ge(C[C.length-1],["ListItemSecondaryAction"]),U=g({},r,{alignItems:d,autoFocus:t,button:i,dense:x.dense,disabled:h,disableGutters:I,disablePadding:S,divider:A,hasSecondaryAction:Z,selected:z}),ee=Xe(U),te=de(G,o),H=Q.root||m.Root||Ze,_=M.root||b.root||{},R=g({className:$(ee.root,_.className,u),disabled:h},P);let T=n||"li";return i&&(R.component=n||"div",R.focusVisibleClassName=$(O.focusVisible,w),T=le),Z?(T=!R.component&&!n?"div":T,v==="li"&&(T==="li"?T="div":R.component==="li"&&(R.component="div")),a(k.Provider,{value:x,children:p(et,g({as:v,className:$(ee.container,y),ref:te,ownerState:U},J,{children:[a(H,g({},_,!oe(H)&&{as:T,ownerState:g({},U,_.ownerState)},R,{children:C})),C.pop()]}))})):a(k.Provider,{value:x,children:p(H,g({},_,{as:T,ref:te},!oe(H)&&{ownerState:g({},U,_.ownerState)},R,{children:[C,N&&a(Qe,{children:N})]}))})}),st=tt,at=["className"],ot=e=>{const{alignItems:s,classes:o}=e;return V({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},Ne,o)},nt=D("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(({theme:e,ownerState:s})=>g({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},s.alignItems==="flex-start"&&{marginTop:8})),rt=l.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemIcon"}),{className:d}=r,t=B(r,at),i=l.useContext(k),c=g({},r,{alignItems:i.alignItems}),u=ot(c);return a(nt,g({className:$(u.root,d),ownerState:c,ref:o},t))}),it=rt,lt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ct=e=>{const{classes:s,inset:o,primary:r,secondary:d,dense:t}=e;return V({root:["root",o&&"inset",t&&"dense",r&&d&&"multiline"],primary:["primary"],secondary:["secondary"]},Le,s)},dt=D("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[{[`& .${ne.primary}`]:s.primary},{[`& .${ne.secondary}`]:s.secondary},s.root,o.inset&&s.inset,o.primary&&o.secondary&&s.multiline,o.dense&&s.dense]}})(({ownerState:e})=>g({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),pt=l.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemText"}),{children:d,className:t,disableTypography:i=!1,inset:c=!1,primary:u,primaryTypographyProps:n,secondary:m,secondaryTypographyProps:b}=r,v=B(r,lt),{dense:y}=l.useContext(k);let f=u??d,h=m;const I=g({},r,{disableTypography:i,inset:c,primary:!!f,secondary:!!h,dense:y}),S=ct(I);return f!=null&&f.type!==W&&!i&&(f=a(W,g({variant:y?"body2":"body1",className:S.primary,component:n!=null&&n.variant?void 0:"span",display:"block"},n,{children:f}))),h!=null&&h.type!==W&&!i&&(h=a(W,g({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},b,{children:h}))),p(dt,g({className:$(S.root,t),ownerState:I,ref:o},v,{children:[f,h]}))}),q=pt;const me=({data:e,setChecked:s,checked:o,setmainSelection:r})=>{const d=t=>()=>{const i=o.indexOf(t),c=[...o];i===-1?c.push(t):c.splice(i,1),s(c),r(c)};return p($e,{className:"border-2 shadow-inner",sx:{minHeight:"12rem",maxHeight:"18rem",my:3,overflow:"auto"},children:[!(e!=null&&e.length)&&a("span",{className:"block mx-auto mt-16 w-fit",children:"No items found !"}),e==null?void 0:e.map(t=>{var c,u,n;const i=`checkbox-list-label-${t._id}`;return a(st,{disablePadding:!0,children:p(Ue,{role:void 0,onClick:d(t._id),dense:!0,children:[a(it,{children:a(Re,{edge:"start",checked:o.indexOf(t._id)!==-1,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})}),t.studentName&&a(q,{id:i,primary:t.studentName}),t.type==="word"&&a(q,{id:i,primary:a(Ce,{wordData:t,singleWordStyle:!1,deleteWord:()=>{},editWordHandler:()=>{}},t._id)}),t.type==="sentence"&&t.subjectName==="english"&&a(q,{id:i,primary:p("div",{className:"p-2",children:[a("p",{children:t.sentence}),p("div",{className:"flex flex-row gap-2",children:["(",a("div",{children:t.choices[0]}),"-",a("div",{children:t.choices[1]}),"-",a("div",{children:t.choices[2]}),")"]})]},t._id)}),t.subjectName==="math"&&a(q,{id:i,primary:p("div",{className:"p-2 flex flex-col",children:[p("div",{className:" flex flex-row items-center gap-5",children:[p("span",{children:["numberOne :",(c=t==null?void 0:t.numbers)==null?void 0:c.num1]}),p("span",{children:["numberTwo :",(u=t==null?void 0:t.numbers)==null?void 0:u.num1]}),p("span",{children:["operator : ",(n=t==null?void 0:t.numbers)==null?void 0:n.operator]})]}),p("div",{className:"flex flex-row gap-2",children:["(",a("div",{children:t==null?void 0:t.choices[0]}),"-",a("div",{children:t==null?void 0:t.choices[1]}),"-",a("div",{children:t==null?void 0:t.choices[2]}),")"]})]},t._id)})]})},t._id)})]})},ut=({setselectedGrade:e,setselectedChildrens:s,setEnableBTN:o})=>{const{children:r}=X(n=>n.userSlice),[d,t]=l.useState([]),[i,c]=l.useState([]);l.useEffect(()=>{d.length>0?o(!0):o(!1)},[d]),l.useEffect(()=>{t([])},[i]),l.useEffect(()=>{c(r.filter(n=>n.studentGrade===1))},[]);const u=n=>{e(n),c(r.filter(m=>m.studentGrade===n))};return p("div",{className:"select-children",children:[a(he,{setChildGrade:n=>u(n)}),a(me,{data:i,checked:d,setChecked:t,setmainSelection:s})]})};function mt({dataSource:e,setdataSource:s}){return p(ke,{sx:{p:2,mb:3},children:[a(we,{id:"demo-radio-buttons-group-label",color:"primary",children:"Task Data From:"}),p(xe,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"previous",name:"radio-buttons-group",onChange:o=>s(o.target.value),children:[a(re,{value:"previous",control:a(ae,{color:"primary"}),label:"Entered Data"}),a(re,{value:"new",control:a(ae,{color:"primary"}),label:"Add New Data"})]})]})}const ft={english:[{name:"Choose",id:"5"}],math:[],arabic:[]},gt={english:[{name:"Match",id:"0"},{name:"Listen",id:"1"},{name:"Arrange",id:"2"}],math:[{name:"Compare",id:"3"},{name:"Calculate",id:"4"}],arabic:[{name:"Choose",id:"6"}]},bt=({setgames:e,setEnableBTN:s,subjectName:o})=>{const[r,d]=l.useState([]),[t,i]=l.useState([]);l.useEffect(()=>{r.length>0?e(r):e(t),s(r.length>0||t.length>0)},[r,t]);const c=(n,m)=>{m?(d([]),i(b=>b.includes(n)?b.filter(v=>v!==n):[...b,n])):(i([]),d(b=>b.includes(n)?b.filter(v=>v!==n):[...b,n]))},u=({game:n,id:m,addGame:b,state:v,special:y})=>p("div",{onClick:()=>b(m,y),className:v.includes(m)?" outline-4 outline-[#ff5c0b] outline cart":"cart",children:[a("img",{src:`/assets/images/games/${n}.jpeg`,alt:""}),a("span",{className:"title",children:n})]});return p(ie,{children:[a("div",{className:"select-game",id:"game",children:gt[o].map(n=>a(u,{game:n.name,id:n.id,addGame:c,state:r,special:!1},n.id))}),o==="english"&&p("div",{children:[a("hr",{}),a("div",{className:" p-4 text-neutral-800 font-semibold text-lg  capitalize",children:"special Games"}),a("div",{className:"select-game",id:"game",children:ft[o].map(n=>a(u,{game:n.name,id:n.id,addGame:c,state:t,special:!0},n.id))})]})]})},vt=e=>{const{_id:s}=X(r=>r.userSlice),o=new Ae("/FSE/TakeData/"+s);return Te({queryKey:["SUBJECTData",s],queryFn:()=>o.post(e),staleTime:30*1e3})},yt=({subjectName:e,selectedGrade:s,setSelectedData:o,setEnableBTN:r,games:d})=>{const[t,i]=l.useState([]),[c,u]=l.useState([]),n={grade:s,subject:e},{data:m,isLoading:b,isError:v}=vt(n);return l.useEffect(()=>{if(!m)return;let y=[];e==="math"&&m?y=m:m.length&&(y=d.includes("5")?m.filter(f=>f.type==="sentence").map(f=>({...f,choices:f.choices[0].split(",")})):m.filter(f=>f.type==="word")),u(y)},[m,d,e]),l.useEffect(()=>{t.length===6?r(!0):r(!1)},[t]),v?a("p",{children:"Error"}):m?p("div",{style:{minHeight:"200px"},children:[b&&p(ie,{children:[a(pe,{}),a("span",{})]}),a(me,{data:c,checked:t,setChecked:i,setmainSelection:o})]}):p("div",{className:"border-2 shadow-inner mb-4",children:[a("span",{className:"block mx-auto mt-16 w-fit",children:"No items found !"}),";"]})},Ot=()=>{const e=ge(),s=Pe(),{_id:o,children:r}=X(P=>P.userSlice),d=["select child","Subject","Game","source data","Select data"],[t,i]=l.useState(0),[c,u]=l.useState("previous"),[n,m]=l.useState("english"),[b,v]=l.useState(1),[y,f]=l.useState([]),[h,I]=l.useState([]),[S,A]=l.useState([]),[w,N]=l.useState(!1),[z,M]=l.useState(!1);l.useEffect(()=>{t===4&&N(!1)},[t]);const Q=()=>{if(t===4){M(!0);const P={};for(let x=0;x<S.length;x++){const G=`id${x+1}`;P[G]=S[x]}const j={gamename:y,subject:n,...P};h.forEach(x=>{console.log(x);const{taskCounter:G}=r.find(C=>C._id===x);s(be({data:{...j,taskno:parseInt(G)+1},_id:x})).unwrap().then(()=>{s(ve(r.map(C=>C._id===x?{...C,taskCounter:parseInt(C.taskCounter)+1}:C))),M(!1),se.success("Task Asigned Successfully!")}).catch(C=>{M(!1),se.error("Something went wrong!")})})}else t===3&&c==="new"?e("/parent/AddSubjectData/"+o):i(t<4?t+1:t)},J=()=>{N(!0),i(t!==0?t-1:t)};return p("div",{className:"asign-task",children:[a(ye,{}),p("div",{className:"asign-task-wrapper",children:[p("div",{className:"w-fit mx-auto font-bold capitalize",children:[a("span",{className:" font-semibold",children:"Asign Task"}),n&&t===1&&p("span",{children:[" - ",n]})," - ",b&&p("span",{children:["Grade: ",b]})]}),a(Se,{steps:d,activeStep:t}),p("div",{className:"page",children:[a("div",{className:t===0?" block ":" hidden",children:a(ut,{setselectedGrade:v,setselectedChildrens:I,setEnableBTN:N})}),a("div",{className:t===1?" block ":" hidden",children:a(Ie,{setSubjectName:m,selectGrade:!1})}),a("div",{className:t===2?" block ":" hidden",children:a(bt,{setgames:f,setEnableBTN:N,subjectName:n})}),a("div",{className:t===3?" block ":" hidden",children:a(mt,{dataSource:c,setdataSource:u})}),t===4&&a(yt,{selectedGrade:b,subjectName:n,setSelectedData:A,setEnableBTN:N,activeStep:t,games:y}),p("div",{className:"btns",children:[t>0&&a("button",{className:"previous",onClick:J,children:a("span",{children:"Previous"})}),a("button",{onClick:Q,disabled:!w,className:" disabled:opacity-50 disabled:cursor-not-allowed ",children:a("span",{children:t===4?"Submit":"Next"})})]})]})]}),z&&a(pe,{})]})};export{Ot as default};
